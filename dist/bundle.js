(()=>{var e={426:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(81),s=n.n(r),a=n(645),i=n.n(a)()(s());i.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;700&display=swap);"]),i.push([e.id,'* {\n    box-sizing: border-box;\n    margin: 0;\n    font-family: \'Ubuntu\', sans-serif;\n    --shadow: 2px 2px 4px;\n    transition: all ease-in-out 350ms;\n}\n\n.header { \n    height: 80px;\n    display: flex;\n    align-items: center;\n    justify-content: flex-start;\n    margin: 0 1rem;\n}\n\n#title {\n    transform-origin: center;\n}\n\nbutton {\n    background-color: antiquewhite;\n    border: solid 1px grey;\n    border-radius: 2px;\n}\n\nbutton:hover {\n    background-color: rgb(255, 0, 0, 0.3);\n}\n\nbutton:active {\n    background-color: white;\n}\n\ninput:focus {\n    border: solid 1px grey;\n    outline: solid 2px rgb(255, 0, 0, 0.3);\n    border-radius: 2px;\n}\n\n.menus {\n    position: absolute;\n    height: 100vh;\n    width: 100vw;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n}\n\n.menus * {\n    z-index: 999;\n}\n\n/* GAMESETUP */\n\n.setup{\n\n}\n\n.setup .shipsPreview {\n    width: 330px;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: flex-end;\n}\n\n.field.hover {\n    background-color: lightgray;\n}\n.field.invalid {\n    background-color: lightcoral;\n}\n\n.gameDiv {\n    display: grid;\n    grid-template-rows: 300px 300px;\n    grid-template-columns: 300px 330px;\n    justify-content: center;\n}\n\n.hidden {\n    display: none;\n}\n\n\n#board1 {\n    grid-area: 1 / 2 / 2 / 3;\n    z-index: 1;\n}\n\n#board2 { \n    grid-area: 2 / 1 / 3 / 2;\n    z-index: 2;\n}\n\n#display1 {\n    position: relative;\n    top: 90px;\n    left: 90px;\n}\n#display2 {\n    position: relative;\n    top: 120px;\n    left: 120px;\n}\n\n.board {\n    width: 330px;\n    height: 330px;\n    display: grid;\n    grid-template-rows: repeat(11, 30px);\n    justify-content: center;\n    align-items: center;\n    box-shadow: var(--shadow)\n}\n\n.display {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 2rem;\n    width: 120px;\n    height: 120px;\n    flex-shrink: 0;\n    background-color: antiquewhite;\n    border-radius: 5px;\n    box-shadow: var(--shadow)\n\n}\n\n.row {\n    display: grid;\n    grid-template-columns: repeat(11, 30px);\n    justify-content: center;\n    align-items: center;\n}\n\n.field, .label, .preview {\n    width: 30px;\n    height: 30px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border: solid 1px black;\n    background-color: white;\n}\n\n.ship.preview {\n    transform-origin: top left;\n}\n\n.rotated {\n    transform: rotate(90deg);\n}\n\n.label {\n    background-color: rgb(255, 0, 0, 0.3);\n}\n.label.corner {\n    background-color: transparent;\n}\n\n.ship {\n}\n\n.ship.A {\n    background-color: rgb(0, 128, 0, 0.3);\n}\n.ship.B {\n    background-color: rgba(0, 0, 128, 0.3);\n}\n.ship.C {\n    background-color: rgba(128, 0, 0, 0.3);\n}\n.ship[class*="D"] {\n    background-color: rgba(128, 0, 128, 0.3);\n}\n.ship[class*="S"] {\n    background-color: rgba(0, 128, 128, 0.3);\n}\n\n.field.hit {\n    color: red;\n}\n.field.miss {\n    color: blue;\n}\n\n.board .field.sunk {\n    background-color: rgb(93, 93, 93, 0.3);\n}\n\n.switchPlayerScreen {\n    position: absolute;\n    height: 100%;\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    z-index: 3;\n    font-size: 3rem;\n}\n.board.hide > *{\n    opacity: 0;\n}\n\n@media screen and (max-width: 600px) {\n    .content{\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        gap: 30px\n    }\n    .display {\n        display: none;\n    }\n}\n\n@media screen and (max-height: 700px) {\n    .content{\n        height: 500px;\n        transform: scale(0.6);\n    }\n    .header {\n        height: 50px;\n    }\n}\n\n',""]);const o=i},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,s,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var o=0;o<this.length;o++){var c=this[o][0];null!=c&&(i[c]=!0)}for(var l=0;l<e.length;l++){var d=[].concat(e[l]);r&&i[d[0]]||(void 0!==a&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=a),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),s&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=s):d[4]="".concat(s)),t.push(d))}},t}},81:e=>{"use strict";e.exports=function(e){return e[1]}},379:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var a={},i=[],o=0;o<e.length;o++){var c=e[o],l=r.base?c[0]+r.base:c[0],d=a[l]||0,u="".concat(l," ").concat(d);a[l]=d+1;var p=n(u),h={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)t[p].references++,t[p].updater(h);else{var m=s(h,r);r.byIndex=o,t.splice(o,0,{identifier:u,updater:m,references:1})}i.push(u)}return i}function s(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,s){var a=r(e=e||[],s=s||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var o=n(a[i]);t[o].references--}for(var c=r(e,s),l=0;l<a.length;l++){var d=n(a[l]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}a=c}}},569:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var s=void 0!==n.layer;s&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,s&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},417:function(e,t,n){const{Player:r}=n(507);t.Game=function(e){this.players={player1:new r("Player1"),player2:new r("Computer")},this.currentPlayer=!0,this.twoPlayer=e,this.gameOver=!1,this.compQueue={lastHits:[],direction:null,cue:[]},this.gameModes={modern:{ships:[[5,"A","Carrier"],[4,"B","Battleship"],[3,"C","Cruiser"],[3,"S","Submarine"],[2,"D","Destroyer"]]},classic:{ships:[[5,"A","Carrier"],[4,"B","Battleship"],[3,"C","Cruiser"],[2,"D1","Destroyer 1"],[2,"D2","Destroyer 2"],[1,"S1","Submarine 1"],[1,"S2","Submarine 2"]]}}},this.Game.prototype={curPlayerAttacks:function(e){if(this.gameOver)return;let t,n;return t=this.currentPlayer?this.players.player2.receiveAttack(e):this.players.player1.receiveAttack(e),this.twoPlayer?this.currentPlayer=!this.currentPlayer:n=this.compAttack(),[t,n]},compAttack:function(){if(this.gameOver)return;let e,t,n;for(;!e;)try{this.compQueue.cue.length>0?[t,n]=this.compQueue.cue.shift():(t=Math.floor(10*Math.random()),n=Math.floor(10*Math.random())),e=this.players.player1.receiveAttack([t,n]),"HIT!"===e.attackResult[0]&&this.fillQueue(t,n),"SUNK!"===e.attackResult[0]&&this.clearQueue(e.attackResult[1].coords)}catch{continue}return e},fillQueue:function(e,t){if(this.compQueue.lastHits.length>0){this.compQueue.direction||this.trackDirection(e,t);const[n,r]=this.compQueue.lastHits[this.compQueue.lastHits.length-1];let s;"vertical"===this.compQueue.direction?s=[[e+1,t],[e-1,t],[n+1,t],[n-1,t]]:"horizontal"===this.compQueue.direction&&(s=[[e,t+1],[e,t-1],[e,r+1],[e,r-1]]),s.forEach((e=>{this.compQueue.cue.some((t=>JSON.stringify(t)===JSON.stringify(e)))||this.compQueue.cue.unshift(e)}))}this.compQueue.lastHits.push([e,t]),[[e,t+1],[e+1,t],[e,t-1],[e-1,t]].forEach((e=>{e[0]>=0&&e[0]<=9&&e[1]>=0&&e[1]<=9&&this.compQueue.cue.push(e)}))},clearQueue:function(e){if(e.forEach((e=>{this.compQueue.lastHits.some((t=>{if(strX=JSON.stringify(e),strY=JSON.stringify(t),strX===strY){const e=this.compQueue.lastHits.findIndex((e=>JSON.stringify(e)===strY));this.compQueue.lastHits.splice(e,1)}}))})),this.compQueue.direction=null,this.compQueue.lastHits.length>0){const[e,t]=this.compQueue.lastHits.pop();this.fillQueue(e,t)}},trackDirection:function(e,t){const[n,r]=this.compQueue.lastHits[this.compQueue.lastHits.length-1];e===n+1&&t===r||e===n-1&&t===r?this.compQueue.direction="vertical":(t===r+1&&e===n||t===r-1&&e===n)&&(this.compQueue.direction="horizontal")}}},507:function(e,t,n){const{Ship:r}=n(643);t.Player=function(e){this.board=new Array(10).fill(null).map((()=>new Array(10).fill(null))),this.ships={},this.hasLost=!1,this.name=e},this.Player.prototype={placeShip:function(e,t,n,s){let[a,o]=n;for(this.testShipPlacement(e,a,o,s),this.ships[t]=new r(e),i=0;i<e;i++)s?(this.board[a-i][o]=t,this.ships[t].coords.push([a-i,o])):(this.board[a][o+i]=t,this.ships[t].coords.push([a,o+i]))},testShipPlacement:function(e,t,n,r){for(i=0;i<e;i++)if(r){if(null!==this.board[t-i][n])throw new Error("Invalid placement.")}else if(null!==this.board[t][n+i])throw new Error("Invalid placement.")},findShipType:function(e){switch(e){case 5:return"A";case 4:return"B";case 3:return this.ships.C?"S":"C";case 2:return"D"}},populateGameboard:function(e){let t=!1;for(;!t;){t=!0;for(let n of e.ships){let e=n[0],r=n[1],s=Math.floor(10*Math.random()),a=Math.floor(10*Math.random()),i=Math.random()>.5;try{this.placeShip(e,r,[s,a],i)}catch{t=!1,this.clearAll();break}}}},clearAll:function(){this.board=new Array(10).fill(null).map((()=>new Array(10).fill(null))),this.ships={}},receiveAttack:function(e){let t;const[n,r]=e,s=this.board[n][r];if("X"==s||"O"==s)throw new Error("Invalid move, field has already been attacked");if(n<0||n>9||r<0||r>9)throw new Error("Invalid move, coordinates out of bounds");return null!=s?(t=this.ships[s].hit(),this.checkStatus(),this.board[n][r]="O"):(t=["MISS!",null],this.board[n][r]="X"),{attackResult:t,isGameOver:this.hasLost}},checkStatus:function(){if(Object.values(this.ships).every((e=>e.isSunk))){this.hasLost=!0;const e=new CustomEvent("gameOver",{detail:this.name});window.dispatchEvent(e)}}}},649:(e,t)=>{t.initiateScreens=function(){const e=document.querySelector(".menus"),t=document.querySelector(".header h1");return t.style.transform=`translateX(calc(50vw - ${t.offsetWidth/2}px)) translateY(30vh) scale(2)`,{splash:function(t){const n=document.createElement("div");n.classList.add("splash");const r=document.createElement("button");r.id="singlePlayerBtn",r.textContent="Single player";const s=document.createElement("button");s.id="twoPlayerBtn",s.textContent="Two players",n.append(r,s),e.append(n),r.addEventListener("click",(()=>{n.style.opacity="0",setTimeout((()=>{t(!1),setTimeout((()=>e.removeChild(n)),0)}),350)})),s.addEventListener("click",(()=>{n.style.opacity="0",setTimeout((()=>{t(!0),setTimeout((()=>e.removeChild(n)),0)}),350)}))},enterNames:function(n){return new Promise(((r,s)=>{const a=document.createElement("form");a.classList.add("enterNames");const i=document.createElement("label"),o=document.createElement("input");o.placeholder="Player 1",i.textContent="Player 1 enter name: ",i.append(o),a.append(i),e.append(a),a.style.opacity="0",setTimeout((()=>{a.style.opacity="1"}),0),o.focus();let c="player1";a.addEventListener("submit",(s=>{a.style.opacity="0",s.preventDefault();const l=""===s.target[0].value?s.target[0].placeholder:s.target[0].value;n.players[c].name=l,n.twoPlayer&&"player1"===c?setTimeout((()=>{a.style.opacity="1",o.value="",o.placeholder="Player 2",i.textContent="Player 2 enter name: ",i.append(o),o.focus(),c="player2"}),350):setTimeout((()=>{a.style.opacity="0",r(),t.style.transform="",t.style.color="antiquewhite",t.style.opacity="0.8",setTimeout((()=>e.removeChild(a)),0)}),350)}))}))},setupGameboard:async function(t,n,r,s,a){return new Promise(((i,o)=>{n.id="setup";const c=n.querySelectorAll(".field");let l=s||"player1";const d=document.createElement("div");d.classList.add("setup");const u=document.createElement("h1");u.textContent=`${t.players[l].name} place your ships`;const p=document.createElement("span");a=a||"modern";const h=document.createElement("select"),m=document.createElement("option");m.textContent="Modern",m.id="modern";const y=document.createElement("option");y.textContent="Classic",y.id="classic",h.addEventListener("change",(e=>{a=e.target.value.toLowerCase(),t.players[l].clearAll(),r(l,t),g()})),h.append(m,y),"player2"===s&&(m.id===a?m.selected=!0:y.selected=!0,h.disabled=!0);const f=document.createElement("button");f.textContent="Random",f.addEventListener("click",(()=>{t.players[l].populateGameboard(t.gameModes[a]),r(l,t),v.innerHTML=""})),startGameBtn=document.createElement("button"),startGameBtn.textContent=t.twoPlayer&&"player2"!==l?"Next":"Start Game",startGameBtn.addEventListener("click",(async()=>{0===v.childElementCount?(d.style.opacity="0",setTimeout((async()=>"Next"===startGameBtn.textContent?(t.currentPlayer=!t.currentPlayer,c.forEach((e=>{e.classList.remove(...e.classList),e.classList.add("field"),e.removeEventListener("dragenter",C),e.removeEventListener("dragover",k),e.removeEventListener("drop",P)})),e.removeChild(d),await this.switchPlayers(t),i(this.setupGameboard(t,n,r,"player2",a))):(t.twoPlayer||t.players.player2.populateGameboard(t.gameModes[a]),e.removeChild(d),t.currentPlayer=!0,await this.switchPlayers(t),i())),350)):p.textContent="place all remaining ships!"}));const v=document.createElement("div");function g(){v.innerHTML="",instruction=document.createElement("p"),instruction.textContent="double click to flip",v.append(instruction),instruction.style.position="absolute",instruction.style.left="calc(50vw - 120px)",instruction.style.marginTop="10px",v.addEventListener("mousedown",(function e(){v.removeChild(instruction),v.removeEventListener("mousedown",e)}));let e=t.gameModes[a].ships;for(let t=0;t<e.length;t++){const n=document.createElement("div");n.classList.add("preview","ship",e[t][1]),n.style.height="30px",n.style.width=30*e[t][0]+"px",n.textContent=e[t][2],n.style.fontSize=`calc(0.3rem * ${e[t][0]})`,n.draggable=!0,v.append(n),0===t?(n.dataset.direction="vertical",n.style.transform="rotate(90deg)"):(n.dataset.direction="horizontal",n.style.transform="rotate(0deg)");let r=0;n.addEventListener("dragstart",L),n.addEventListener("dragend",S),n.addEventListener("dblclick",(()=>{r=0===r?90:0,n.style.transform=`rotate(${r}deg)`,n.dataset.direction=0===r?"horizontal":"vertical"}))}}let b;v.classList.add("shipsPreview"),g(),c.forEach((e=>{e.addEventListener("dragenter",C),e.addEventListener("dragover",k),e.addEventListener("drop",P)}));let x=[],w=!1,E=!1;function L(e){b=e.target,w="vertical"===b.dataset.direction;const t=document.createElement("div");t.id="dragImage",t.style.position="absolute",t.style.top="-150px";const n=this.cloneNode(!0),r=w?90:0;n.style.transform=`rotate(${r}deg)`,t.append(n),document.body.append(t),e.dataTransfer.setDragImage(t,0,0),e.dataTransfer.setData("text/plain",""),setTimeout((()=>this.style.display="none"),0)}function S(){this.style.display="flex";const e=document.querySelector("#dragImage");document.body.removeChild(e),T(),w=!1}function C(e){E=!1;const t=parseInt(b.style.width.slice(0,-2))/30-1,n=e.target.dataset.coords;T(),function(e,t){const n=parseInt(t[1]),r=parseInt(t[3]);let s,a;for(let t=0;t<=e;t++){[s,a]=w?[n-t,r]:[n,r+t];const e=document.querySelector(`[data-coords="[${s},${a}]"]`);null===e||"ship"===e.classList[1]?E=!0:x.push(e)}}(t,n);const r=E?"invalid":"hover";x.forEach((e=>e.classList.add(r)))}function k(e){e.preventDefault()}function P(e){if(E)return;const n=parseInt(e.target.dataset.coords[1]),s=parseInt(e.target.dataset.coords[3]),a=parseInt(b.style.width.slice(0,-2))/30,i=b.classList[2],o=[n,s];t.players[l].placeShip(a,i,o,w),r(l,t),v.removeChild(b)}function T(){x.forEach((e=>{e.classList.remove("hover","invalid")})),x=[]}d.append(u,h,f,startGameBtn,p,n,v),e.append(d),d.style.opacity="0",setTimeout((()=>d.style.opacity="1"),350)}))},switchPlayers:async function(t){return new Promise(((n,r)=>{const s=document.createElement("div");s.classList.add("switchPlayerScreen"),s.innerHTML="<span></span>'s turn in &nbsp;<span><span>",s.style.opacity="0",e.append(s);const a=t.currentPlayer?t.players.player1.name:t.players.player2.name,i=document.querySelector(".switchPlayerScreen span:first-child"),o=document.querySelector(".switchPlayerScreen span:last-child"),c=document.querySelector("#board1"),l=document.querySelectorAll(".content > *:not(.switchPlayerScreen)");setTimeout((()=>{l.forEach((e=>e.style.filter="blur(15px)")),c&&c.classList.toggle("hide"),s.style.opacity="1",i.textContent=a;for(let e=0;e<3;e++)setTimeout((()=>{o.textContent=3-e}),1e3*e);setTimeout((()=>(s.style.opacity="0",l.forEach((e=>e.style.filter="blur(0px)")),o.textContent="",this.eventListenerActive=!0,c&&c.classList.toggle("hide"),setTimeout((()=>e.removeChild(s)),0),n())),3e3)}),350)}))},gameOver:function(t){const n=document.createElement("div");n.classList.add("gameOverScreen");const r=document.createElement("h1");r.textContent="GAME OVER";const s=document.createElement("h2"),a=document.createElement("button");a.textContent="Start new game",n.append(r,s,a),n.style.opacity="0",e.append(n),this.eventListenerActive=!1,n.style.opacity="1",player1Board.style.filter="blur(5px)",player2Board.style.filter="blur(5px)",s.textContent=`${t} wins!`,a.addEventListener("click",(()=>{n.style.opacity="0",player1Board.style.filter="",player2Board.style.filter="",splash.style.transform="scale(1)",setTimeout((()=>e.removeChild(n)),0)}))},wait:async function(){await setTimeout((()=>Promise.resolve()),1e3)}}}},643:function(e,t){t.Ship=function(e){this.length=e,this.hitCount=0,this.isSunk=!1,this.coords=[]},this.Ship.prototype={hit:function(){return this.hitCount++,this.checkSunk()},checkSunk:function(){let e="HIT!";return this.hitCount>=this.length&&(this.isSunk=!0,e="SUNK!"),[e,this]}}},281:(e,t,n)=>{const{initiateScreens:r}=n(649),s=r();t.initiateUI=function(){const e=document.querySelector(".content");function t(){const e=document.createElement("div");e.classList.add("board");for(let t=10;t>=0;t--){const n=document.createElement("div");n.classList.add("row"),n.dataset.row=t-1;for(let e=0;e<=10;e++){const r=document.createElement("div");0==t||0==e?(r.classList.add("label"),0==t?0==e?(r.textContent="",r.classList.add("corner")):r.textContent=e:0==e&&(r.textContent="ABCDEFGHIJ"[t-1])):(r.classList.add("field"),r.dataset.coords=`[${t-1},${e-1}]`),n.append(r)}e.append(n)}return e}function n(e,t){console.log(display1),e.textContent=t,setTimeout((()=>{e.textContent=""}),1e3)}function r(e,t){const n=t?"#board1":"#board2";e.coords.forEach((e=>{document.querySelector(`${n} [data-coords="[${e}]"]`).classList.add("sunk")}))}return{gameSetup:async function(e){await s.enterNames(e);const n=t();return await s.setupGameboard(e,n,this.updateGameboard),Promise.resolve()},drawGame:function(){e.innerHTML="";const n=document.createElement("div");n.classList.add("gameDiv");const r=t();r.id="board1";const s=t();s.id="board2";const a=document.createElement("div");a.classList.add("display"),a.id="display1";const i=document.createElement("div");i.classList.add("display"),i.id="display2",n.append(r,a,s,i),e.append(n),n.style.opacity="0",setTimeout((()=>n.style.opacity="1"),350)},update:function(e){const t=e.currentPlayer?"player1":"player2",n=e.currentPlayer?"player2":"player1";this.updateGameboard(t,e,"board1"),this.updateGameboard(n,e,"board2")},updateGameboard:function(e,t,n="setup"){for(let r=9;r>=0;r--)for(let s=0;s<10;s++){const a=document.querySelector(`#${n} [data-coords="[${r},${s}]"`);a.textContent="",a.classList.remove(...a.classList),a.classList.add("field");const i=t.players[e].board[r][s];if("X"===i)a.classList.add("miss"),a.textContent=i;else if("O"===i)for(ship in"board1"===n&&a.classList.add("ship"),a.classList.add("hit"),a.textContent=i,t.players[e].ships)t.players[e].ships[ship].coords.some((n=>{if(n[0]===r&&n[1]===s)return t.players[e].ships[ship].isSunk?a.classList.add("sunk"):a.classList.add(ship)}));else(null!==i&&"board1"===n||null!==i&&"setup"===n)&&(a.classList.add("ship"),a.classList.add(i))}},eventListenerActive:!0,setupEventListeners:function(e,t){document.querySelector(".content #board2").querySelectorAll(".field").forEach((n=>{n.addEventListener("click",(n=>{this.handleAttacks(n,e,t)}))}))},handleAttacks:function(e,t,a){if(!this.eventListenerActive)return;const i=e.target.dataset.coords.slice(1,-1).split(",");let o;try{o=t(i);let c=o[0].attackResult;if(n(display2,c[0]),this.eventListenerActive=!1,!a.twoPlayer){let e=o[1].attackResult;setTimeout((()=>{n(display1,e[0]),"SUNK!"===e[0]&&r(e[1],!0)}),1e3)}if(function(e,t){switch(e[0]){case"MISS!":t.textContent="X",t.style.color="blue";break;case"HIT!":t.textContent="O",t.style.color="red";break;case"SUNK!":t.textContent="O",t.style.color="red",r(e[1],!1)}}(c,e.target),a.gameOver)return;a.twoPlayer?setTimeout((async()=>{await s.switchPlayers(a),this.update(a),this.eventListenerActive=!0}),1e3):setTimeout((()=>{this.update(a),this.eventListenerActive=!0}),1e3)}catch(e){n(display2,"!")}},toggleGameOver:function(e){s.gameOver(e)},setupSplash:function(e){s.splash(e)}}}}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var a=t[r]={id:r,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0,(()=>{"use strict";var e=n(379),t=n.n(e),r=n(795),s=n.n(r),a=n(569),i=n.n(a),o=n(565),c=n.n(o),l=n(216),d=n.n(l),u=n(589),p=n.n(u),h=n(426),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=i().bind(null,"head"),m.domAPI=s(),m.insertStyleElement=d(),t()(h.Z,m),h.Z&&h.Z.locals&&h.Z.locals;const{Game:y}=n(417),{initiateUI:f}=n(281);let v,g=f();g.setupSplash((async function(e){v=new y(e),await g.gameSetup(v),g.drawGame(),g.update(v),g.setupEventListeners(v.curPlayerAttacks.bind(v),v)})),window.addEventListener("gameOver",(()=>{let e;v.gameOver=!0;for(let t in v.players)v.players[t].hasLost||(e=v.players[t].name);g.toggleGameOver(e)}))})()})();